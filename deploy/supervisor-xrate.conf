# Supervisor configuration for XRate Telegram Bot
#
# Installation:
#   1. Copy this file to /etc/supervisor/conf.d/xrate.conf
#   2. Update paths, user, and command as needed
#   3. Reload supervisor: sudo supervisorctl reread
#   4. Add service: sudo supervisorctl add xrate
#   5. Start service: sudo supervisorctl start xrate
#
# Management:
#   - Start:   sudo supervisorctl start xrate
#   - Stop:    sudo supervisorctl stop xrate
#   - Restart: sudo supervisorctl restart xrate
#   - Status:  sudo supervisorctl status xrate
#   - Logs:    tail -f /opt/xrate/logs/xrate.log

[program:xrate]
command=/opt/xrate/.venv/bin/python -m xrate
directory=/opt/xrate
user=xrate
autostart=true
autorestart=true
startretries=3
startsecs=10
stderr_logfile=/opt/xrate/logs/xrate_error.log
stdout_logfile=/opt/xrate/logs/xrate.log
stderr_logfile_maxbytes=10MB
stdout_logfile_maxbytes=10MB
stderr_logfile_backups=5
stdout_logfile_backups=5
environment=HOME="/opt/xrate",USER="xrate"
stopwaitsecs=30
killasgroup=true
stopasgroup=true

